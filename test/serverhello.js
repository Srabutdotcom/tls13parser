import { Record } from "../src/index.js";

const serverHello = hexArrayStrtoBytes(`16 03 01 00 c4 02 00 00 56 03 03 a6 af 06 a4 12 18 60
dc 5e 6e 60 24 9c d3 4c 95 93 0c 8a c5 cb 14 34 da c1 55 77 2e
d3 e2 69 28 00 13 01 00 00 2e 00 33 00 24 00 1d 00 20 c9 82 88
76 11 20 95 fe 66 76 2b db f7 c6 72 e1 56 d6 cc 25 3b 83 3d f1
dd 69 b1 b0 4e 75 1f 0f 00 2b 00 02 03 04`)

function hexArrayStrtoBytes(hexArrayStr) {
   const hexArray = hexArrayStr.split(/\s/).filter(e => e.length > 0).map(e => Number('0x' + e));
   return new Uint8Array(hexArray)
}

const record = new Record(serverHello);

const multipleRecord = new Uint8Array(`22,3,3,0,122,2,0,0,118,3,3,125,90,216,175,219,183,80,104,187,221,155,250,170,92,154,233,58,69,161,110,175,207,180,206,206,215,145,234,198,11,7,242,32,50,57,99,53,101,50,49,99,97,98,101,52,52,52,50,50,56,53,99,97,57,54,54,100,101,102,101,101,52,52,53,51,19,1,0,0,46,0,51,0,36,0,29,0,32,157,154,240,213,213,86,172,227,139,229,72,174,239,22,33,101,108,148,49,250,226,96,172,123,31,220,124,246,195,223,76,34,0,43,0,2,3,4,20,3,3,0,1,1,23,3,3,15,115,182,114,148,249,93,92,227,225,4,200,134,46,126,70,238,111,38,3,108,64,106,131,178,171,78,84,23,0,66,251,67,99,84,242,37,89,55,148,115,116,185,61,66,232,88,39,248,217,12,27,38,128,84,53,13,84,128,26,144,119,99,175,131,189,5,36,218,145,144,132,132,40,78,229,68,142,160,225,205,136,92,202,29,85,67,32,217,8,26,83,225,85,194,150,148,122,4,45,119,168,44,208,199,156,37,213,67,102,80,16,110,214,198,127,146,142,240,201,121,231,147,217,146,101,191,193,143,156,37,42,152,132,135,70,20,239,95,147,169,181,220,194,24,45,39,95,213,59,22,185,155,169,130,139,30,121,26,225,178,206,196,222,126,198,123,77,106,201,147,83,48,54,234,117,196,244,126,215,2,197,221,138,104,244,86,57,30,120,39,74,161,71,180,202,194,221,145,236,1,238,131,172,62,68,11,208,241,232,209,243,196,160,225,28,205,124,50,1,113,40,180,200,223,20,37,111,206,25,131,68,27,123,127,96,197,135,30,99,124,49,169,47,57,247,222,220,216,158,36,40,108,137,16,128,21,246,72,239,229,215,25,88,104,192,165,205,178,135,31,192,136,21,106,101,67,67,3,39,215,101,226,178,140,97,219,198,156,39,7,108,224,142,142,47,80,145,170,198,176,35,124,87,5,210,121,157,63,150,132,66,197,216,88,57,211,14,17,117,140,52,227,244,1,145,232,122,201,237,26,198,185,112,153,169,52,145,245,24,92,155,178,49,239,236,127,136,143,27,2,39,238,190,60,174,34,125,138,218,33,73,77,6,194,192,202,99,227,67,45,162,149,93,191,187,85,94,179,96,152,25,224,201,218,24,12,128,210,198,198,85,146,76,40,75,33,24,209,234,80,148,115,148,220,134,206,90,98,42,50,33,40,209,162,246,204,122,226,237,129,103,56,64,121,223,129,250,74,51,151,237,229,44,39,207,249,152,205,237,243,6,158,20,8,108,17,100,184,190,103,255,17,100,123,150,144,252,182,148,105,233,122,77,187,147,102,8,97,24,160,248,93,45,147,190,119,40,87,221,76,165,136,228,106,87,205,124,140,79,160,67,177,238,254,150,84,186,60,148,114,131,141,38,23,232,52,155,44,52,168,215,183,54,230,137,190,179,245,104,191,249,74,46,176,160,87,30,140,57,22,90,239,172,148,90,116,22,104,254,202,104,235,134,251,194,45,205,39,180,68,245,2,118,139,83,9,164,225,197,142,169,146,179,206,110,43,83,195,46,123,91,220,191,210,205,184,19,202,12,61,251,35,222,245,92,241,167,116,86,131,145,105,1,153,96,97,128,95,232,113,206,224,221,115,58,164,35,190,27,166,45,48,21,193,136,95,172,138,31,63,45,161,64,151,192,79,244,1,248,191,185,240,193,250,157,149,254,111,184,143,167,238,26,72,125,124,175,234,117,160,121,131,167,227,65,54,187,20,56,4,212,159,236,35,187,172,195,58,42,38,254,11,236,229,87,148,48,98,80,22,65,188,214,147,149,5,219,157,83,10,117,171,7,232,237,220,94,26,62,1,202,109,159,24,63,20,8,13,79,244,164,211,14,199,208,158,206,142,221,93,88,155,196,109,31,90,72,232,108,252,62,159,173,30,55,192,221,35,220,225,137,227,249,195,78,12,150,50,83,88,143,45,117,223,7,214,159,84,247,183,179,149,177,124,89,251,67,153,77,61,61,154,229,161,122,204,0,70,210,12,107,98,244,234,38,25,108,201,245,250,21,247,252,248,68,96,82,106,105,148,211,233,178,207,229,92,159,80,134,202,77,180,111,141,8,82,248,205,94,73,116,107,140,39,248,241,188,22,190,132,67,194,249,124,111,83,23,18,35,52,251,177,250,93,192,57,222,14,168,105,209,247,234,98,31,221,168,21,113,223,166,194,105,116,118,250,21,109,22,109,227,78,106,24,142,173,187,146,223,43,152,5,25,100,18,216,36,90,118,70,178,156,237,167,75,186,223,13,90,25,82,197,124,166,138,248,36,31,4,181,246,31,125,225,192,80,167,58,30,77,158,113,225,121,169,86,54,173,239,38,204,191,145,19,61,230,181,149,158,47,54,122,198,129,65,35,143,247,188,149,25,137,182,75,104,118,163,208,38,110,72,121,100,118,105,207,246,210,116,188,45,14,25,192,134,130,171,88,176,141,152,53,153,212,176,203,126,82,75,67,254,148,243,199,163,249,21,125,8,120,43,197,1,99,70,152,202,247,182,237,144,183,54,198,88,73,238,137,48,19,108,54,233,236,101,60,213,53,220,155,218,1,108,81,192,156,14,217,182,16,243,126,95,161,75,139,56,83,177,108,45,2,52,20,107,197,133,42,62,82,215,12,193,42,117,98,104,34,247,182,36,213,80,66,224,85,149,217,66,13,197,165,152,12,175,16,114,42,38,143,5,240,112,78,99,191,189,11,160,42,41,20,82,135,187,48,196,132,212,122,1,222,245,137,190,42,92,41,67,228,100,148,250,54,21,116,204,48,107,168,184,35,91,203,134,160,217,226,252,17,201,34,213,198,87,27,236,100,198,159,204,11,210,35,191,223,107,57,130,236,69,164,124,110,245,190,82,151,181,28,172,201,41,236,216,145,43,193,207,64,254,166,55,7,157,114,50,164,127,86,118,201,243,164,41,57,247,125,54,185,147,101,148,86,192,23,46,120,198,28,244,127,227,63,207,60,145,115,5,227,224,147,153,169,60,33,174,169,230,131,15,194,57,190,165,41,9,210,233,158,194,112,77,10,54,222,0,181,141,157,32,200,161,83,38,229,6,172,133,255,12,31,230,184,137,219,56,86,187,0,150,177,94,231,157,18,111,154,206,13,133,48,172,190,162,117,244,177,36,106,185,85,72,116,156,21,143,149,71,247,172,255,167,216,206,135,131,211,189,113,198,59,121,42,204,211,151,109,159,72,231,181,70,87,51,225,233,237,225,102,79,58,136,50,107,2,100,178,164,106,175,54,2,22,164,56,56,97,169,177,85,143,161,184,146,203,212,55,244,236,131,226,83,162,39,83,163,48,11,95,3,157,188,190,153,38,215,165,154,138,38,32,173,189,250,27,90,114,64,228,94,183,186,254,91,98,229,241,113,194,159,139,51,109,164,34,18,49,32,137,1,229,248,186,255,101,89,220,88,84,3,13,227,46,97,44,229,12,161,159,103,146,66,175,51,71,68,169,138,230,223,239,163,145,207,203,88,83,163,241,195,88,214,224,79,91,184,231,135,5,92,236,41,16,77,23,44,254,4,4,4,151,245,217,11,229,157,17,96,192,145,98,99,34,22,231,254,87,33,58,136,82,49,4,150,79,144,136,145,119,50,136,203,168,119,56,1,140,233,47,56,250,111,121,232,125,250,18,42,196,185,2,229,24,200,138,141,5,86,81,242,54,193,170,187,42,123,90,71,35,86,65,114,17,125,218,94,207,208,20,86,158,240,138,47,51,231,137,184,160,18,180,64,86,133,176,163,138,90,4,14,13,106,212,189,60,52,7,200,73,188,205,141,57,243,132,51,244,173,137,136,194,21,42,214,208,162,161,187,50,88,141,106,47,206,199,53,176,119,138,85,66,60,150,171,109,41,138,228,218,198,247,15,178,234,11,7,82,122,91,3,31,112,142,66,37,238,59,71,55,40,184,222,75,237,131,18,210,53,183,95,189,71,216,103,201,200,91,153,108,47,192,165,43,110,19,7,85,101,94,228,212,54,208,113,169,119,47,204,15,134,145,0,115,106,186,43,213,136,115,211,176,142,238,14,20,124,143,59,200,179,133,77,102,212,237,233,174,32,19,60,47,132,4,4,203,77,77,37,84,78,67,105,92,213,112,34,246,54,85,58,205,48,105,205,229,18,77,212,100,72,156,81,180,82,206,79,37,85,193,186,204,214,104,139,116,124,107,211,70,72,68,1,178,87,18,130,65,116,110,108,247,93,174,51,46,7,223,81,84,117,208,188,69,146,106,56,12,153,26,81,147,229,19,184,28,178,160,231,0,228,116,1,176,204,58,192,165,64,232,251,125,77,111,237,82,103,221,51,72,71,46,28,131,150,1,90,118,203,199,191,85,172,30,244,42,250,195,36,99,245,81,16,185,1,73,75,205,110,157,206,130,149,21,155,243,166,190,13,115,243,196,244,126,143,215,211,175,36,131,79,213,183,63,66,23,154,223,42,120,133,65,45,205,153,246,162,138,1,228,3,123,252,48,22,14,131,28,239,53,12,154,109,231,215,110,253,117,15,217,133,155,231,212,11,160,33,153,113,217,20,159,166,150,37,214,149,140,183,5,90,160,26,202,99,147,213,190,234,110,209,24,224,214,191,230,152,180,199,74,169,102,109,159,27,102,113,108,46,165,92,10,251,150,146,255,242,29,198,109,157,180,32,142,54,184,151,122,14,210,141,183,96,103,224,52,137,92,93,238,55,185,179,71,199,143,121,244,250,111,105,107,178,140,131,247,38,216,64,50,180,203,150,161,239,236,0,129,27,213,105,181,178,117,115,163,228,189,250,237,42,60,167,198,252,242,233,10,114,215,164,200,244,37,15,13,83,87,25,69,203,10,130,40,225,240,208,235,144,18,13,10,94,116,184,243,142,246,153,60,189,126,53,232,40,36,213,134,119,186,2,159,156,219,112,57,234,242,84,226,194,92,30,1,249,223,203,88,108,91,93,2,122,158,7,67,205,218,49,1,174,42,156,225,84,179,210,153,243,124,15,151,52,91,235,35,126,142,89,162,220,104,97,46,219,144,116,130,43,135,7,126,162,158,153,199,124,79,186,204,167,203,127,223,106,19,45,74,63,204,139,244,110,1,143,211,31,54,12,163,228,48,7,150,71,135,77,31,248,59,203,192,224,194,149,113,45,250,45,89,118,83,85,80,53,225,253,29,52,42,97,36,171,154,104,229,109,107,228,228,39,43,160,32,57,180,154,173,168,91,70,205,86,164,200,142,6,51,40,24,39,165,113,252,132,33,168,214,5,194,118,15,201,2,38,190,8,208,82,116,134,151,247,58,240,181,148,88,28,191,208,199,7,74,99,220,88,111,17,6,123,122,154,33,179,158,167,69,23,150,97,201,118,199,8,201,213,89,176,112,61,111,8,2,17,49,85,7,157,170,46,153,102,85,175,109,155,189,35,236,76,230,95,64,121,243,137,121,68,106,139,191,119,65,80,138,234,220,217,21,232,208,171,223,114,62,125,237,231,226,144,146,150,187,105,89,88,37,54,109,24,77,97,154,151,224,220,38,92,175,41,195,254,44,27,63,43,190,84,102,8,156,133,58,124,237,44,132,202,0,201,104,104,140,135,121,15,239,254,101,98,51,83,237,88,61,58,248,86,163,98,108,221,228,47,240,109,224,144,22,255,241,80,195,70,218,48,17,49,104,197,118,32,26,116,30,185,27,129,1,205,137,96,2,241,124,222,209,171,107,61,128,82,131,137,163,167,217,159,209,120,5,210,244,104,253,147,15,59,86,139,190,74,64,156,216,150,85,102,17,241,89,134,0,89,120,50,36,110,122,162,237,102,131,5,203,114,73,70,197,64,208,232,113,70,178,75,7,5,229,174,20,58,59,153,216,198,8,137,118,177,134,48,163,15,199,2,101,2,36,248,213,130,214,27,111,197,82,46,107,231,80,39,158,37,206,162,81,164,236,171,220,42,36,13,154,2,96,115,201,72,234,204,61,207,228,104,106,154,159,221,91,11,162,129,92,155,183,102,142,84,77,169,32,97,229,241,1,82,202,169,204,239,4,91,139,116,122,228,116,179,77,207,117,62,122,59,67,59,86,80,48,212,200,53,239,250,68,63,118,101,128,5,60,173,40,255,152,111,216,27,196,183,39,144,110,15,37,190,0,99,24,138,49,98,7,226,36,164,56,96,84,10,218,12,126,33,86,127,223,92,255,149,200,213,95,93,225,200,254,101,103,79,65,251,135,174,31,112,94,145,111,125,125,178,235,16,188,48,173,211,45,203,34,108,241,181,42,103,187,28,48,155,172,41,113,14,56,130,68,101,234,29,46,108,88,81,240,64,126,49,5,2,252,80,93,8,127,38,61,89,153,239,111,141,96,91,139,180,226,29,17,188,88,201,170,148,141,219,44,232,89,62,26,54,225,149,141,140,111,9,202,183,187,136,166,204,183,16,244,15,202,128,26,89,204,73,57,122,0,214,197,40,105,203,122,86,72,199,252,172,12,47,149,194,110,173,236,88,28,178,77,249,29,209,214,85,151,246,39,179,83,12,194,7,179,97,90,4,210,190,249,9,142,146,218,174,27,226,5,211,20,156,251,67,156,180,225,253,135,140,116,143,22,246,93,48,191,88,25,131,158,143,249,5,104,16,9,37,65,155,172,9,192,90,254,211,250,154,163,219,244,38,51,111,223,131,178,4,40,8,208,34,82,162,27,224,207,67,204,116,47,50,195,26,151,217,150,93,38,27,154,49,91,179,254,149,134,47,102,129,80,150,241,130,153,167,73,181,118,71,23,124,145,175,208,21,51,177,174,68,107,208,29,132,13,248,81,228,183,218,42,111,120,158,89,140,26,239,162,142,99,215,4,16,230,142,12,214,144,2,207,90,6,120,128,77,120,222,164,88,61,53,154,16,99,18,209,121,10,62,4,100,114,89,36,34,156,5,157,36,210,58,65,219,189,1,124,99,198,1,85,49,188,133,105,231,66,175,237,200,111,173,3,234,22,15,216,49,73,175,157,200,231,1,222,15,34,98,86,54,241,44,168,249,64,171,227,93,153,186,153,43,51,45,253,244,71,88,136,219,176,158,91,155,162,156,41,244,95,194,177,147,66,4,122,167,119,68,240,96,235,241,133,103,71,11,230,27,0,28,219,151,234,70,5,113,19,50,183,71,81,116,174,229,122,100,79,157,68,56,37,139,23,214,220,71,39,20,95,235,242,59,109,73,74,241,204,135,239,128,182,185,122,153,131,103,94,91,21,232,122,244,252,192,167,94,46,223,227,238,47,18,54,80,60,8,38,19,162,20,135,193,111,102,209,35,141,195,186,78,101,212,7,185,240,52,155,29,113,96,128,210,100,137,85,245,48,236,167,211,22,248,68,226,61,184,122,170,192,164,215,51,203,36,156,232,214,70,77,2,45,126,198,201,125,13,200,82,231,4,252,98,38,103,169,0,153,33,167,102,70,255,180,58,70,133,177,190,235,8,118,185,239,48,158,254,124,175,241,131,159,107,34,72,209,140,15,22,120,217,127,170,15,64,50,166,64,205,45,126,101,125,51,197,79,104,162,240,249,67,133,143,207,72,132,235,169,50,234,149,229,119,207,210,150,170,131,199,39,17,240,102,181,23,88,72,233,212,147,92,157,144,171,150,77,226,192,110,178,59,228,238,165,63,68,255,107,65,216,62,229,50,115,132,237,44,45,53,157,99,13,222,115,196,16,65,0,66,190,10,35,223,130,10,62,194,2,21,122,128,243,76,248,4,128,68,255,153,173,234,188,205,111,36,130,116,232,214,117,205,146,188,121,209,67,41,218,76,67,202,185,108,127,197,5,104,157,144,36,21,42,76,10,76,180,1,92,228,65,37,24,100,11,1,194,205,144,90,116,175,66,83,81,65,159,213,48,218,18,247,243,0,72,185,90,201,222,9,80,194,118,17,173,6,215,94,137,106,152,172,89,204,181,17,136,248,77,157,150,171,33,186,1,65,94,202,8,244,80,47,63,148,102,159,211,71,36,168,18,141,98,10,63,39,174,41,196,55,3,36,194,237,37,60,232,62,222,51,137,215,203,5,7,28,199,34,227,1,223,201,251,100,219,83,48,155,209,195,240,131,63,148,20,127,125,219,184,174,234,35,216,117,15,18,128,101,213,83,2,206,139,99,94,48,130,115,249,32,85,48,93,229,226,123,212,61,241,64,117,201,44,154,113,104,121,110,63,14,108,238,81,201,200,157,250,182,247,106,243,65,79,24,51,22,243,220,199,242,147,199,24,33,218,156,205,162,246,101,161,1,22,234,166,106,201,105,151,246,130,229,181,228,205,241,39,255,210,233,210,49,210,242,11,28,167,252,165,171,51,60,228,72,51,61,156,191,243,251,14,163,90,100,189,240,167,144,135,147,237,245,253,143,38,76,250,253,240,240,175,199,198,215,125,48,18,218,212,180,153,48,132,141,82,133,52,29,113,152,28,254,234,254,51,78,241,117,197,56,195,147,235,102,32,215,13,22,41,215,124,158,233,114,197,199,119,16,72,198,110,100,192,73,200,124,91,99,176,252,214,8,94,58,203,34,14,103,117,116,104,177,174,200,191,190,182,171,244,178,184,101,215,37,148,60,68,253,248,214,48,82,177,137,5,245,140,195,102,22,12,240,155,191,13,122,12,252,174,135,61,193,18,153,253,140,56,95,42,122,64,108,63,57,117,42,68,38,109,195,118,101,35,149,189,212,137,4,156,38,64,174,117,190,105,199,120,58,8,190,65,136,150,82,168,92,73,101,108,118,75,221,83,117,28,213,91,142,61,176,9,118,122,114,194,201,195,8,49,184,161,148,32,226,59,232,161,214,246,51,112,94,163,43,195,111,128,177,10,234,183,134,89,251,135,194,173,227,228,84,33,166,47,238,117,167,9,202,204,220,249,7,163,218,199,199,225,147,237,118,249,44,7,61,116,5,85,253,188,183,161,187,140,217,29,102,79,27,181,21,204,100,116,245,251,12,236,159,130,144,92,16,24,100,244,2,233,250,233,186,68,134,120,195,194,174,187,46,184,252,67,77,132,120,52,131,56,125,7,123,57,170,100,222,156,94,148,239,193,12,165,82,71,179,28,190,253,33,84,4,182,177,68,19,151,220,88`.split(','));

let records = []
let val = multipleRecord
while(true){
   const record = new Record(val);
   records.push(record);
   if(record.value.pos>=record.value.length)break
   val = record.value;
}
debugger;
